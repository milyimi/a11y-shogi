# ワイヤーフレーム

## 1. ホーム画面

```
┌─────────────────────────────────────────────┐
│                a11y-shogi                   │ h1
├─────────────────────────────────────────────┤
│                                             │
│  アクセシビリティに配慮した将棋アプリ        │ 説明文
│                                             │
├─────────────────────────────────────────────┤
│                                             │
│  ┌───────────────────────────────────────┐ │
│  │  新しい対局を始める                    │  button
│  │  (難易度選択画面へ)                    │
│  └───────────────────────────────────────┘ │
│                                             │
│  ┌───────────────────────────────────────┐ │
│  │  前の対局を再開                        │  button
│  │  (セッション有の場合のみ表示)          │
│  └───────────────────────────────────────┘ │
│                                             │
│  ┌───────────────────────────────────────┐ │
│  │  ランキングを見る                      │  button
│  │  (勝利者の記録を閲覧)                  │
│  └───────────────────────────────────────┘ │
│                                             │
├─────────────────────────────────────────────┤
│  ヘルプ | 使い方 | プライバシー             │ footer links
└─────────────────────────────────────────────┘
```

**アクセシビリティ機能**
- `<h1>`: "a11y-shogi へようこそ"
- 各ボタンに `aria-label` で説明
- キーボード操作: Tab で移動、Enter で実行
- スクリーンリーダー: ページ全体を読み上げ

**実装チェックリスト**
- [ ] ランドマーク `<main role="main">`
- [ ] スキップリンク
- [ ] 高コントラスト対応（WCAG AAA）
- [ ] フォーカス表示の明確化

---

## 2. 難易度選択画面

```
┌─────────────────────────────────────────────┐
│  ◄ ホームに戻る                             │ back button
├─────────────────────────────────────────────┤
│                                             │
│  対局開始 - 難易度を選択してください        │ h1
│                                             │
├─────────────────────────────────────────────┤
│  ○ ◯ ● 初級                                 │ radio button + label
│    ・ランダムな手を選びます                 │
│    ・初心者向け                             │
│                                             │
│  ○ ◯ ● 中級                                 │ radio button + label
│    ・基本的な戦略で打ちます                 │
│    ・一般的なプレイヤー向け                 │
│                                             │
│  ○ ◯ ● 上級                                 │ radio button + label
│    ・高度な先読みで打ちます                 │
│    ・上級者向け                             │
│                                             │
├─────────────────────────────────────────────┤
│  ┌───────────────┬───────────────────────┐ │
│  │   キャンセル   │   対局を始める        │ │ buttons
│  └───────────────┴───────────────────────┘ │
│                                             │
└─────────────────────────────────────────────┘
```

**アクセシビリティ機能**
- ラジオボタングループに `role="radiogroup"` と `aria-label`
- 各オプションに詳細説明
- キーボード操作: ↑↓ で選択、Space で確認
- 選択肢の説明文も読み上げ

**実装チェックリスト**
- [ ] ラジオボタングループの正しいARIA
- [ ] 説明文の適切なレベル
- [ ] フォーカス管理

---

## 3. 対局画面 - 全体レイアウト（デスクトップ：3カラム）

```
┌──────────────────────────────────────────────────────────────────────────┐
│  a11y-shogi - 対局画面                                               ≡    │ header
├──────────────┬────────────────────────────┬──────────────────────────────┤
│駒台エリア    │  盤 面 (9×9)              │ ゲーム情報 & 棋譜            │
│              │                            │┌──────────────────────────┐ │
│先手駒台      │  ♚ ♜ ♞ ♗ ♕               ││ 難易度: 中級              │ │
│┌───────────┐│  ♔ ♗ ♜ ♚                 ││ 先手（あなた）            │ │
││歩x3 香x0 ││                            ││ 第 5 手                  │ │
││桂x0 銀x1 ││  [9] [8] [7] [6] [5]...  ││ 時間: 02:30              │ │
││金x0 角x0 ││                            ││                          │ │
││飛x0      ││  現在位置: 5-5-1          ││ 棋譜:                    │ │
│└───────────┘│                            ││ 1. 7g-7f 3c-3d         │ │
│              │  合法手:                   ││ 2. 8h-7g 8c-8d         │ │
│              │  7f, 8h, 6h, 2h           ││ 3. 7g-7f 4c-4d         │ │
│              │                            ││ ...                     │ │
│後手駒台      │                            ││                          │ │
│┌───────────┐│                            ││ 現在の手:                │ │
││歩x2 香x0 ││                            ││ 後手を考え中...          │ │
││桂x0 銀x0 ││                            │└──────────────────────────┘ │
││金x0 角x0 ││                            │                            │
││飛x0      ││                            │ ┌──────────┬─────────┐   │
│└───────────┘│                            │ │棋譜を戻す│  投了する│   │
│              │                            │ └──────────┴─────────┘   │
└──────────────┴────────────────────────────┴──────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┤
│ ┌──────────────┬──────────────┬───────────┐                                   │
│ │ 棋譜を戻す    │  局面を検討   │  投了する  │  (buttons)                       │
│ └──────────────┴──────────────┴───────────┘                                   │
│                                                                                │
│ キーボードショートカット: H キーで表示                                        │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘
```

**アクセシビリティ機能**

**3カラムレイアウトの利点**
- **横幅削減**: 4カラムより狭く、認知負荷軽減
- **ズーム対応**: 200%拡大でも横スクロール発生しにくい
- **視線移動**: 左（駒台）→ 中央（盤面）→ 右（情報）と自然な流れ
- **伝統的配置**: 駒台を縦に配置し、盤面の左側にまとめる

**HTMLの構造と読み上げ順序**
```
1. ゲーム情報エリア（role="region" aria-label="ゲーム情報"）
   - 難易度、手数、経過時間
   
2. 盤面エリア（role="main"）← 最も重要
   - role="board" で盤面を識別
   - 9×9グリッド
   
3. 駒台エリア（role="region" aria-label="駒台"）
   - 先手の駒台（上部）
   - 後手の駒台（下部）
   
4. 棋譜エリア（role="region" aria-label="棋譜"）
   - 過去の指し手一覧
   - aria-live="polite" で更新を通知

5. ゲーム状態（role="status" aria-live="polite" aria-atomic="true"）
   - 現在のターン、AI思考状況など
```

**スクリーンリーダー対応の工夫**
- **スキップリンク**: "盤面へ移動" リンクで駒台をスキップ可能
- **焦点管理**: デフォルトで盤面にフォーカスが当たる
- **駒台への素早いアクセス**: 
  - `Tab` キーで駒台を訪問可能
  - 先手駒台：`Shift+T` で直接アクセス
  - 後手駒台：`Shift+G` で直接アクセス
  
**CSS活用（視覚的レイアウトとHTML順序の分離）**
```css
/* CSS Grid/Flexboxで視覚的な3カラムレイアウトを実現 */
/* HTMLの読み上げ順序は盤面を中心に構成 */
.game-container {
  display: grid;
  grid-template-columns: 200px 1fr 300px; /* 駒台 | 盤面 | 情報 */
  grid-template-rows: auto;
  gap: 16px;
  max-width: 1400px; /* 横幅制限でズーム対応 */
  margin: 0 auto;
}

.komadai-area {
  grid-column: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.sente-komadai { order: 1; } /* 上部 */
.gote-komadai { order: 2; }  /* 下部 */

.board { grid-column: 2; }     /* 中央 */
.game-info { grid-column: 3; } /* 右 */
```

**キーボード操作**
```
基本的なナビゲーション:
Tab / Shift+Tab : 次の/前の要素へ移動
↑↓←→          : 盤上のカーソル移動（盤面フォーカス時）

駒台へのアクセス:
Shift+T        : 先手の駒台へ（上部）
Shift+G        : 後手の駒台へ（下部）
Escape         : 駒台から盤面へ戻る

盤面操作:
Enter          : 駒選択／移動実行
Space          : 選択駒の情報読み上げ
Esc            : 選択キャンセル

情報取得:
B              : 全盤面を読み上げ（段ごと）
L              : 最後の指し手読み上げ
M              : 現在の合法手一覧読み上げ
H              : キーボードショートカット表示
S              : ゲーム状態を読み上げ

ゲーム制御:
U              : 棋譜1手戻す
R              : 初期局面に戻す
Q              : ゲーム放棄（確認ダイアログあり）
```

**駒台からの「打つ」操作**
```
1. 先手/後手の駒台へ移動（Shift+T / Shift+G）
2. ↑↓ で駒の種類を選択（例：歩 → 香 → 桂...）
3. Space で現在の駒の枚数を確認
4. 盤面へ移動（Escape キー）
5. ↑↓←→ で移動先を選択
6. Enter で駒を打つ
```

**スクリーンリーダー読み上げ例**
```
NVDA による読み上げ順序:
1. "a11y-shogi 対局画面"
2. "ゲーム情報領域。難易度：中級。先手、あなたです。第5手。経過時間2分30秒。"
3. "盤面領域。将棋盤です。先手の駒台。歩が3枚、香が0枚..."
4. "盤。9行9列。5列目5行目が選択中。現在の駒の情報を聞く場合はスペースキーを押してください。"
5. [ユーザーが矢印キーで移動]
6. "後手の駒台。歩が2枚..."
7. "棋譜領域。1手目...2手目..."
8. "ゲーム状態。AIが思考中です..."
```

**実装チェックリスト**
- [ ] セマンティックなHTML構造
- [ ] WAI-ARIA ランドマーク
- [ ] 状態変化のlive region
- [ ] 十分なカラーコントラスト
- [ ] フォーカス表示

---

## 4. 対局画面 - 盤面部分（詳細）

```
┌─────────────────────────────┐
│ 将棋盤 (WCAG AAA対応)       │
├─────────────────────────────┤
│                             │
│   先手の駒台                 │
│   ┌─────────────┐           │
│   │ 歩 x3       │           │
│   │ 香 x0       │           │
│   │ 桂 x0       │           │
│   │ 銀 x1       │ キャプチャされた駒 │
│   │ 金 x0       │           │
│   │ 角 x0       │           │
│   │ 飛 x0       │           │
│   └─────────────┘           │
│                             │
│     9   8   7   6   5  ...  │
│   ┌───┬───┬───┬───┬───┐    │
│ 1 │   │   │   │   │   │    │
│   ├───┼───┼───┼───┼───┤    │
│ 2 │   │   │   │   │   │    │
│   ├───┼───┼───┼───┼───┤    │
│ 3 │☖歩│   │   │   │   │    │ ☖ = gote (後手)
│   ├───┼───┼───┼───┼───┤    │
│ 4 │   │   │   │   │   │    │
│   ├───┼───┼───┼───┼───┤    │
│ 5 │   │ ○ │   │   │   │    │ ○ = 現在位置
│   ├───┼───┼───┼───┼───┤    │
│ 6 │   │   │   │   │   │    │
│   ├───┼───┼───┼───┼───┤    │
│ 7 │   │   │☗歩│   │   │    │ ☗ = sente (先手)
│   ├───┼───┼───┼───┼───┤    │
│ 8 │   │   │   │   │   │    │
│   ├───┼───┼───┼───┼───┤    │
│ 9 │☗飛│☗香│☗桂│☗銀│☗金│    │
│   └───┴───┴───┴───┴───┘    │
│                             │
│   後手の駒台                 │
│   ┌─────────────┐           │
│   │ 歩 x2       │           │
│   │ 香 x0       │ キャプチャされた駒 │
│   │ 桂 x0       │           │
│   │ 銀 x0       │           │
│   │ 金 x0       │           │
│   │ 角 x0       │           │
│   │ 飛 x0       │           │
│   └─────────────┘           │
│                             │
└─────────────────────────────┘
```

**駒台（取った駒を置く場所）について**
- **先手の駒台**: 画面上部 - 先手（あなた）が取った後手の駒
- **後手の駒台**: 画面下部 - 後手（AI）が取った先手の駒
- 駒台に置かれた駒は、「打つ」ことで再度盤上に出現可能
- スクリーンリーダー対応: 駒の種類と枚数を読み上げ
- **折りたたみ機能**: [▼]/[▲] ボタンで駒台の表示/非表示を切り替え
  - 小画面・高ズーム時のスペース確保
  - キーボード操作: `Shift+T`（先手駒台）、`Shift+G`（後手駒台）で開閉
  - 折りたたみ状態でも「歩x3」など枚数は表示

**駒の表示**
- **先手の駒**: ☗ + 駒名（黒/濃色背景）
- **後手の駒**: ☖ + 駒名（白/淡色背景）
- **成った駒**: 駒名に「成」を付記
  - 例: ☗成香 (narikoh) 

**駒名一覧**
```
歩  (fu)     - ポーン
香  (kyosha) - ナイト（前にしか進めない）
桂  (keima)  - ナイト（L字）
銀  (gin)    - シルバー
金  (kin)    - ゴールド
角  (bishop) - ビショップ
飛  (rook)   - ルーク
玉  (gyokusho) - キング
```

**カラースキーム（WCAG AAA）**
```
盤面背景:     #F5DEB3 (wheat)
先手駒:       #1A1A1A (darkest gray) - コントラスト比 18:1
後手駒:       #F0F0F0 (light gray) - コントラスト比 12:1
選択位置:     #FFD700 (gold) - コントラスト比 5:1
現在位置:     #FF6347 (tomato) - コントラスト比 4.5:1
グリッド線:   #8B7355 (brown)
駒台背景:     #E8D5B7 (淡い麦色) - コントラスト比 2:1
```

---

## 5. ゲーム終了画面（勝利時）

```
┌────────────────────────────────────────────┐
│                                            │
│          ゲーム終了                        │ h1
│                                            │
├────────────────────────────────────────────┤
│                                            │
│  ┌──────────────────────────────────────┐ │
│  │  🎉 あなたの勝ち！                    │  │ result message
│  │  チェックメイト                       │  │
│  └──────────────────────────────────────┘ │
│                                            │
├────────────────────────────────────────────┤
│  統計情報                                 │
│  ├─ 対局時間: 15分 32秒                 │
│  ├─ 総手数: 42手                        │
│  ├─ あなた: 21手                        │
│  ├─ AI: 21手                           │
│  └─ 難易度: 中級                        │
│                                            │
├────────────────────────────────────────────┤
│  ランキング登録                           │
│  ┌──────────────────────────────────────┐ │
│  │ ランキングに登録しますか？            │ │
│  │                                      │ │
│  │ ニックネーム（3〜15文字）:            │ │
│  │ ┌────────────────────────────────┐  │ │
│  │ │ 将棋マスター                     │  │ │ input
│  │ └────────────────────────────────┘  │ │
│  │                                      │ │
│  │ 難易度: 中級                         │ │
│  │                                      │ │
│  │ ┌──────────┬──────────────────┐     │ │
│  │ │ スキップ  │  ランキングに登録 │     │ │ buttons
│  │ └──────────┴──────────────────┘     │ │
│  └──────────────────────────────────────┘ │
│                                            │
├────────────────────────────────────────────┤
│  棋譜                                     │
│  ┌──────────────────────────────────────┐ │
│  │ 1. 7g-7f  3c-3d                      │ │
│  │ 2. 8h-7g  8c-8d                      │ │
│  │ 3. 7g-7f  4c-4d                      │ │
│  │ ...                                   │ │
│  │ 21. 5g-5f  3c-3d ★                   │ │
│  └──────────────────────────────────────┘ │
│                                            │
├────────────────────────────────────────────┤
│  ┌──────────────┬──────────────┬─────┐   │
│  │ 棋譜をコピー  │ 棋譜を再生   │ ホーム │   │ buttons
│  └──────────────┴──────────────┴─────┘   │
│                                            │
│  ┌──────────────┬──────────────────────┐  │
│  │ランキングを見る│ 新しい対局を始める   │  │ link/button
│  └──────────────┴──────────────────────┘  │
│                                            │
└────────────────────────────────────────────┘
```

**アクセシビリティ機能**
- 結果を大きく・目立つように表示
- スクリーンリーダー: 「あなたの勝ちです。チェックメイト。」と読み上げ
- ランキング登録フォームは `role="form"` でマークアップ
- ニックネーム入力には `aria-label="ニックネーム"` を設定
- 棋譜は選択可能（コピーできる）
- 全ボタンがキーボード操作可能

**実装チェックリスト**
- [ ] 結果の明確な提示
- [ ] 統計情報のセマンティック表示
- [ ] ランキング登録フォームの適切なARIA属性
- [ ] ニックネーム入力のバリデーション（3〜15文字）
- [ ] 棋譜の視覚的・聴覚的な提示
- [ ] 次のアクションへの導線

---

## 6. ランキング画面

```
┌────────────────────────────────────────────┐
│  ◄ ホームに戻る                             │ back button
├────────────────────────────────────────────┤
│                                            │
│          ランキング                        │ h1
│                                            │
├────────────────────────────────────────────┤
│  難易度を選択:                             │
│  ┌────┬────┬────┐                        │
│  │初級│中級│上級│  tab navigation         │
│  └────┴────┴────┘                        │
│     ▲ 現在：中級                           │
│                                            │
├────────────────────────────────────────────┤
│  中級ランキング（全523名中 1-20位を表示）  │
│                                            │
│  ┌──────────────────────────────────────┐ │
│  │ あなたの順位: 45位 │ [ジャンプ▼]    │ │ 自分の順位へ移動
│  └──────────────────────────────────────┘ │
│                                            │
│  ┌──────────────────────────────────────┐ │
│  │ 順位 │ ニックネーム │ 手数 │ 時間   │ │
│  ├──────┼──────────────┼──────┼────────┤ │
│  │  1   │ 将棋マスター │  42  │ 15:32  │ │
│  │  2   │ AI撃破者     │  45  │ 17:00  │ │
│  │  3   │ 初心者脱出   │  48  │ 18:21  │ │
│  │  4   │ 王手上手     │  50  │ 19:15  │ │
│  │  5   │ 駒の達人     │  52  │ 20:45  │ │
│  │  6   │ 将棋好き     │  53  │ 21:10  │ │
│  │  7   │ 勝負師       │  55  │ 22:30  │ │
│  │ ...  │ ...          │ ...  │ ...    │ │
│  │  20  │ 頑張る人     │  67  │ 28:00  │ │
│  └──────────────────────────────────────┘ │
│                                            │
│  ┌──────────────────────────────────────┐ │
│  │ ◄ 前の20件 │ 1-20 / 523 │ 次の20件 ► │ │ pagination
│  └──────────────────────────────────────┘ │
│                                            │
│  ※ スコアは手数と時間から算出されます      │
│  ※ 手数が少なく、時間が短いほど高スコア    │
│  ※ スクリーンリーダー: 上位10件のみ自動読上│
│                                            │
├────────────────────────────────────────────┤
│  ┌──────────────┬──────────────────────┐  │
│  │ ホームに戻る  │ 新しい対局を始める   │  │ buttons
│  └──────────────┴──────────────────────┘  │
│                                            │
└────────────────────────────────────────────┘
```

**アクセシビリティ機能**
- タブナビゲーション: `role="tablist"` でマークアップ
- テーブル: `<table>` セマンティックタグ使用
  - `<caption>`: "中級ランキング（全523名中 1-20位を表示）"
  - `<th scope="col">`: 各列ヘッダー
- **スクリーンリーダー最適化**:
  - 上位10件のみ自動読み上げ（aria-live="polite"）
  - 11件目以降は「残り○○件あります。詳細を聞くには下矢印キーを押してください」
  - テーブルナビゲーションモード（T キー）でセル移動
- **自分の順位へジャンプ機能**:
  - `[ジャンプ▼]` ボタンで自分の順位に即座に移動
  - aria-label="あなたの順位45位へジャンプ"
  - キーボードショートカット: `J` キー
- **ページネーション**:
  - 20件ずつ表示（認知負荷軽減）
  - 「◄ 前の20件」「次の20件 ►」ボタン
  - 現在位置を明示: "1-20 / 523"
  - キーボード: PageUp/PageDown でページ移動
- 自分の順位がある場合はハイライト表示（背景色 + アイコン）

**実装チェックリスト**
- [ ] タブナビゲーションの適切なARIA属性
- [ ] テーブルのセマンティックHTML
- [ ] ランキング項目のフォーカス表示
- [ ] 難易度切り替えのキーボード対応
- [ ] ハイライト表示の高コントラスト
- [ ] ページネーション機能（20件ずつ）
- [ ] 自分の順位へジャンプボタン
- [ ] スクリーンリーダー: 上位10件のみ自動読み上げ
- [ ] キーボードショートカット: J キーでジャンプ
- [ ] aria-live region で読み上げ制御

---

## 6. キーボードショートカット表示（モーダル）

```
┌─────────────────────────────────────────┐
│  キーボード操作ガイド          [×閉じる] │ header
├─────────────────────────────────────────┤
│                                         │
│  ナビゲーション                         │
│  ┌─────────────────────────────────┐   │
│  │ キー      │ 説明                 │   │
│  ├───────────┼──────────────────────┤   │
│  │ ↑↓←→    │ 盤上のカーソル移動    │   │
│  │ Tab       │ 次のボタンへ移動     │   │
│  │ Shift+Tab │ 前のボタンへ移動     │   │
│  └─────────────────────────────────┘   │
│                                         │
│  駒操作                                 │
│  ┌─────────────────────────────────┐   │
│  │ Enter     │ 駒選択／移動実行      │   │
│  │ Space     │ 選択駒の情報読み上げ │   │
│  │ Esc       │ 選択キャンセル        │   │
│  └─────────────────────────────────┘   │
│                                         │
│  情報取得                               │
│  ┌─────────────────────────────────┐   │
│  │ B         │ 全盤面を読み上げ      │   │
│  │ L         │ 最後の指し手読み上げ │   │
│  │ M         │ 合法手一覧読み上げ   │   │
│  │ S         │ ゲーム状態読み上げ   │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ゲーム制御                             │
│  ┌─────────────────────────────────┐   │
│  │ U         │ 棋譜を1手戻す         │   │
│  │ R         │ 初期局面に戻す        │   │
│  │ Q         │ ゲーム放棄            │   │
│  │ H         │ このガイド表示        │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ※ 大文字・小文字は区別しません        │
│                                         │
│  [    ガイドを閉じる    ]               │
│                                         │
└─────────────────────────────────────────┘
```

**アクセシビリティ機能**
- モーダルダイアログ: `role="dialog" aria-label="キーボード操作ガイド"`
- トラップフォーカス（Tab キーでモーダル内に留まる）
- スクリーンリーダー: 全キーの説明を読み上げ
- テーブル形式で整理

---

## 7. レスポンシブ対応

### デスクトップ（1200px 以上）

3カラムレイアウト（「3. 対局画面 - 全体レイアウト」参照）
- 駒台エリア（左：先手駒台[上] + 後手駒台[下]） | 盤面（中央） | ゲーム情報&棋譜（右）

### タブレット（768px 〜 1199px）

2カラムレイアウト（盤面 & 駒台 | 情報）
```
┌───────────────────────────────────────────────────────────┐
│  a11y-shogi                                           ≡   │
├───────────────────────────────────────┬───────────────────┤
│ 盤面 & 駒台エリア                     │ ゲーム情報        │
│                                       │┌─────────────────┐│
│ 先手駒台                              ││難易度: 中級      ││
│ ┌───────────────────┐               ││手数: 5          ││
│ │ 歩x3 香x0 桂x0 銀x1│               ││時間: 2m30s      ││
│ └───────────────────┘               │└─────────────────┘│
│                                       │                   │
│ ┌───────────────────┐               │ 棋譜:             │
│ │   盤面 (9×9)      │               │ 1. 7g-7f 3c-3d  │
│ │   ♚ ♜ ♞ ♗ ♕     │               │ 2. 8h-7g 8c-8d  │
│ │                   │               │ 3. 7g-7f 4c-4d  │
│ │   合法手: 7f...   │               │                   │
│ └───────────────────┘               │ [戻す][投了]     │
│                                       │                   │
│ 後手駒台                              │                   │
│ ┌───────────────────┐               │                   │
│ │ 歩x2 香x0 桂x0 銀x0│               │                   │
│ └───────────────────┘               │                   │
└───────────────────────────────────────┴───────────────────┘
```

### スマートフォン（〜767px）

**1カラムレイアウト（縦並び）**
```
┌───────────────────────────┐
│ a11y-shogi            ≡   │
├───────────────────────────┤
│ 先手の駒台                │
│ ┌─────────────────────┐  │
│ │ 歩x3 香x0 桂x0     │  │
│ │ 銀x1 金x0 角x0... │  │
│ └─────────────────────┘  │
│                          │
│ ▼ ゲーム情報 (collapsible)│
│   難易度: 中級            │
│   手数: 5 時間: 2m30s    │
│                          │
│ ▼ 盤面 (collapsible)      │
│   ┌──────────────────┐   │
│   │ 盤面(9x9)        │   │
│   │ (フルスクリーン)  │   │
│   │ スケーリング    │   │
│   │                  │   │
│   │ 合法手: 7f, 8h   │   │
│   └──────────────────┘   │
│                          │
│ ▼ ゲーム状態 (collapsible)│
│   先手（あなた）の番      │
│   現在位置: 5-5-1        │
│   合法手: 7f, 8h...      │
│                          │
│ ▼ 棋譜 (collapsible)      │
│   1. 7g-7f  3c-3d        │
│   2. 8h-7g  8c-8d        │
│   ...                    │
│                          │
│ 後手の駒台                │
│ ┌─────────────────────┐  │
│ │ 歩x2 香x0 桂x0     │  │
│ │ 銀x0 金x0 角x0... │  │
│ └─────────────────────┘  │
│                          │
│ [戻す] [投了]            │
│                          │
│ H: キーボード操作ガイド   │
│                          │
└───────────────────────────┘
```

**レスポンシブ設計ポイント**
- **デスクトップ（1200px以上）**: 3カラム（駒台エリア | 盤面 | ゲーム情報）でアクセシビリティ最優先
  - max-width: 1400px で横幅制限、ズーム200%対応
  - 駒台を縦に配置し視線移動を最小化
- **タブレット（768px-1199px）**: 2カラム（盤面&駒台 | 情報）に集約
- **スマートフォン（-767px）**: 1カラム（縦並び）で、アコーディオン形式で開閉
- 盤面は常に正方形で表示
- タッチ操作時のボタン最小サイズ: 44×44px
- WCAG 2.1 リフロー基準（1.4.10）準拠

---

## 8. ダークモード対応

オプション機能として、ダークモード対応を検討

```
ライトモード (デフォルト)
- 背景: #FFFFFF (純白)
- テキスト: #000000 (純黒)
- 盤面: #F5DEB3 (ウィート・麦色)

ダークモード
- 背景: #1A1A1A (ダークグレー・ほぼ黒)
- テキスト: #E0E0E0 (ライトグレー)
- 盤面: #4A3728 (ダークブラウン・濃い茶色)
```

---

## 色彩設計（WCAG AAA 準拠）

| 要素 | カラーコード | RGB | 色名 | コントラスト比 |
|-----|------------|-----|------|------------|
| テキスト（標準） | #1A1A1A | 26,26,26 | ダークグレー（ほぼ黒） | 21:1 |
| テキスト（弱視向け） | #000000 | 0,0,0 | 純黒 | 21:1 |
| 背景 | #FFFFFF | 255,255,255 | 純白 | - |
| リンク | #0066CC | 0,102,204 | ブルー（濃い青） | 8.1:1 |
| ボタン（デフォルト） | #004D99 | 0,77,153 | ダークブルー | 10.2:1 |
| ボタン（ホバー） | #003366 | 0,51,102 | ネイビーブルー | 12.8:1 |
| エラー | #CC0000 | 204,0,0 | レッド（濃い赤） | 7.4:1 |
| 成功 | #006600 | 0,102,0 | グリーン（濃い緑） | 8.1:1 |
| 盤面（背景） | #F5DEB3 | 245,222,179 | ウィート（麦色） | - |
| 先手駒 | #1A1A1A | 26,26,26 | ダークグレー（ほぼ黒） | 18:1 |
| 後手駒 | #F0F0F0 | 240,240,240 | ライトグレー | - |
| 選択位置 | #FFD700 | 255,215,0 | ゴールド（金色） | 5.1:1 |
| フォーカス表示 | #0066CC | 0,102,204 | ブルー（濃い青） | 8.1:1 |
| 駒台背景 | #E8D5B7 | 232,213,183 | ベージュ（淡い麦色） | - |
| グリッド線 | #8B7355 | 139,115,85 | ブラウン（茶色） | - |

**ダークモード用カラーパレット**

| 要素 | カラーコード | RGB | 色名 | コントラスト比 |
|-----|------------|-----|------|------------|
| 背景 | #1A1A1A | 26,26,26 | ダークグレー（ほぼ黒） | - |
| テキスト | #E0E0E0 | 224,224,224 | ライトグレー | 15:1 |
| 盤面（背景） | #4A3728 | 74,55,40 | ダークブラウン | - |
| リンク | #66B3FF | 102,179,255 | ライトブルー | 8:1 |
| ボタン（デフォルト） | #0080FF | 0,128,255 | ブライトブルー | 9:1 |
| エラー | #FF6666 | 255,102,102 | ライトレッド | 7:1 |
| 成功 | #66FF66 | 102,255,102 | ライトグリーン | 8:1 |

